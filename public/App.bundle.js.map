{"version":3,"sources":["webpack:///webpack/bootstrap ce358261ed1213b17787","webpack:///./public/scripts/index.js","webpack:///./public/sass/styles.sass?5acd"],"names":["window","onload","recordButton","document","querySelector","raffleButton","playbackButton","video","getElementById","url","lastVideoSaved","source","$playbackSection","$","$videoSection","$recordSection","$recordingSection","$closeButton","sendRequest","posting","post","done","data","createElement","setAttribute","appendChild","fadeOut","fadeIn","animateValue","id","start","end","duration","range","current","increment","stepTime","Math","abs","floor","obj","timer","setInterval","innerHTML","clearInterval","record","event","preventDefault","playVideo","play","addEventListener","playback","playbackRate","on","location","reload"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ce358261ed1213b17787","/*eslint-disable*/\nimport '../sass/styles.sass';\n\nwindow.onload = () => {\n\n  const recordButton = document.querySelector('#record');\n  const raffleButton = document.querySelector('#raffle');\n  const playbackButton = document.querySelector('#playback');\n  const video = document.getElementById('video');\n  const url = '/record';\n  let lastVideoSaved;\n  let source;\n\n  var $playbackSection  = $('.section--playback'),\n      $videoSection     = $('.section--video'),\n      $recordSection    = $('.section--record'),\n      $recordingSection = $('.section--recording'),\n      $closeButton      = $('#close');\n\n  function sendRequest() {\n    const posting = $.post(url);\n\n    posting.done(function(data) {\n      lastVideoSaved = `videos/${data}`;\n      source = document.createElement('source');\n      source.setAttribute('src', lastVideoSaved);\n      video.appendChild(source);\n      $recordingSection.fadeOut(300, function() {\n        $playbackSection.fadeIn(300);\n      });\n    });\n  }\n\n  function animateValue(id, start, end, duration) {\n      var range = end - start;\n      var current = start;\n      var increment = end > start? 1 : -1;\n      var stepTime = Math.abs(Math.floor(duration / range));\n      var obj = document.getElementById(id);\n      var timer = setInterval(function() {\n          current += increment;\n          obj.innerHTML = current;\n          if (current == end) {\n              clearInterval(timer);\n              $('#countdown').fadeOut(300, function() {\n                $recordingSection.fadeIn(300);\n              });\n              sendRequest();\n          }\n      }, stepTime);\n  }\n\n  function record(event) {\n    event.preventDefault();\n    $(this).fadeOut(300, function() {\n      animateValue(\"countdown\", 6, 0, 6000);\n    });\n  }\n\n  function playVideo() {\n    video.play();\n    video.addEventListener('ended', function() {\n      $closeButton.fadeIn(300);\n    });\n  }\n\n  function playback() {\n    video.playbackRate = 0.3;\n    $playbackSection.fadeOut(300, function(){\n      $videoSection.fadeIn(800, function() {\n        playVideo();\n      });\n    });\n  }\n\n  recordButton.addEventListener('click', record);\n  playbackButton.addEventListener('click', playback);\n  $closeButton.on('click', function() {\n    $videoSection.fadeOut(300, function() {\n      location.reload();\n      $recordSection.fadeIn(200);\n    });\n  });\n\n}\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./public/scripts/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./public/sass/styles.sass\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}